<h1><strong>Project:</strong> <%= @project.name %></h1>
<p><strong>Description:</strong> <%= @project.description %></p>
<p><strong>Status:</strong> <%= @project.status.humanize %></p>
<p><strong>Start date:</strong> <%= @project.start_date.strftime("%B %d, %Y") %></p>
<p><strong>End date:</strong> <%= @project.end_date.strftime("%B %d, %Y") %></p>

<h3>Actions</h3>
<% flash.each do |type, msg| %>
    <div class="p-4 rounded border-l-4  mb-4" role="alert">
      <p><%= msg %></p>
    </div>
<% end %>



<div>
  <%= form_with url: change_status_project_path(@project),  method: :patch do |f| %>
   <div>
    <%= f.label :status %>
    <%= f.select :status, Project.statuses.keys.map  {|k| [k.humanize, k]}, selected: @project.status %>
    <%= f.submit "Update status" %>
  </div>
  <% end %>
  <%= button_to "edit project",  edit_project_path(@project), method: :get %>
  <%= button_to "create a task",  new_project_task_path(@project), method: :get %>
  <%= button_to "view tasks",  project_tasks_path(@project), method: :get %>
  <%= button_to "back to all projects",  projects_path, method: :get %>
  <%= button_to "delete project",  @project, method: :delete, form: { data: { turbo_confirm: 'Are you sure you want to delete this?' } } %>
  </div>

<h2>Tasks</h2>
<% if @project.tasks == [] %>
    <p>no hay tareas </p>
<% else %>
    <% @project.tasks.each do |task| %>
      <div>
      <%= task.name %>
      <%= task.description %>
      <%= task.due_date.strftime("%B %d, %Y") %>
      <%= task.priority.humanize %>
      <%= task.status.humanize %>
      <p><%= link_to "view task", project_task_path(@project,task) %></p>
      </div>
      <% end %>
<% end %>



